```
--按字段查表

select object_id('[T9IMS].[dbo].[SerialNumber]')
select * from syscolumns where name ='SerialNumber' where id = object_id('[T9IMS].[dbo].[SerialNumber]')

SELECT t2.name 
FROM syscolumns t1,sysobjects t2
WHERE t1.id=t2.id
and t1.NAME='SerialNumber'
```

##### having

```
select e.id,e.EMPNAME,e.StopSalaryFlag,e.JOBID from employee e where e.jobid in (
select t.JOBID from EMPLOYEE t
group by t.JOBID having count(t.id)>1)
and e.JOBID <>''
```

##### not esixts

```
insert into T_HR_PunchRecord(time,EmpID,CardNumber,MachineNumber,DevicePurposeID,AppStatus)
select  wdate+' ' +wtime ,e.id,e.fpcode,a.address,2,0
from oldHR.KQA.dbo.v_kqsj a,T_HR_Employee e where a.Cardnum=e.code
and  not exists(select 1 from T_HR_PunchRecord where  wdate+' ' +wtime=Time and e.id=EmpID  )
```



